%  Copyright 2020-2022 Robert Bosch GmbH
%
%  Licensed under the Apache License, Version 2.0 (the "License");
%  you may not use this file except in compliance with the License.
%  You may obtain a copy of the License at
%
%      http://www.apache.org/licenses/LICENSE-2.0
%
%  Unless required by applicable law or agreed to in writing, software
%  distributed under the License is distributed on an "AS IS" BASIS,
%  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
%  See the License for the specific language governing permissions and
%  limitations under the License.
%
\documentclass[a4paper,10pt]{report}

% --------------------------------------------------------------------------------------------------------------
% common preamble
% --------------------------------------------------------------------------------------------------------------

\input{./styles/preamble}


% --------------------------------------------------------------------------------------------------------------
% document title
% --------------------------------------------------------------------------------------------------------------

\author{RobotFramework AIO team}
\title{Documentation style guide}
\date{01.02.2023}

% --------------------------------------------------------------------------------------------------------------
% document header
% --------------------------------------------------------------------------------------------------------------

\begin{document}

\hypersetup{pageanchor=false}

\maketitle

\clearpage
\pagenumbering{Alph}
\tableofcontents

\clearpage
\pagenumbering{arabic}

\hypersetup{pageanchor=true}

% --------------------------------------------------------------------------------------------------------------
% document content
% --------------------------------------------------------------------------------------------------------------

\chapter{Introduction}

The documentation of the \rfw\ and also the documentation of every single component of the \rfw\ is provided in PDF format.
Most of the sources of the documentation (except the interface definitions of Python modules) are written in LaTeX.
Parts of the LaTeX sources are written manually, other parts of the LaTeX sources are generated out of the interface definitions of Python modules
automatically by a converter tool named Pandoc.

The layout of the PDF output is determined by certain LaTeX style files. These style files are e.g. responsible for the layout of code listings (syntax highlighting),
the definition of LaTeX commands used by Pandoc and certain admonitions (like text boxes indicating e.g. a warning or an error).

In the context of \rfw\ the documentation files in PDF format are available at two different levels, generated by two different tool chains. This is based on the
fact that the code of the complete \rfw\ is developed in several repositories (every component of the \rfw\ has it's own repository).

\begin{enumerate}

   \item The tool \rlog{GenPackageDoc} creates the documentation of a Python package within a single repository.

   \item The tool \rlog{GenMainDoc} creates the main documentation of the \rfw\ (including the documentation of it's components).

\end{enumerate}

Both tool chains work with the same LaTeX style files:

\begin{enumerate}

   \item \rlog{admonitions.sty}\\
      Defines admonitions like: \rcode{boxwarning}, \rcode{boxerror}, \rcode{boxgoodpractice}, \rcode{boxhint}, \rcode{boxtip}

   \item \rlog{common.sty}\\
      Defines common commands like support for \rlog{history.tex}

   \item \rlog{pandoc.sty}\\
      Defines commands used by Pandoc when computing code directives in rst sources

   \item \rlog{robotframeworkaio.sty}\\
      Defines \rfw\ specific elements like syntax highlighting for \rfwcore\ and Python code

\end{enumerate}

All required style files are imported by \rlog{preamble.tex}. In case you plan to introduce LaTeX files outside the scope of
\rlog{GenPackageDoc} and \rlog{GenMainDoc}, make sure to import the preamble in the following way (like in this LaTeX source file):

\begin{verbatim}
   \input{./styles/preamble}
\end{verbatim}

We recommend to use this preamble in all LaTeX files to give all resulting PDF files a unique look\&feel.

% --------------------------------------------------------------------------------------------------------------

\chapter{Admonitions}

\rlog{admonitions.sty} contains the definition of certain text boxes with certain symbols and background colors. The purpose is to highlight
important parts of the documentation.

\vspace{2ex}

\textbf{Warnings}
\begin{verbatim}
\begin{boxwarning}{Warning}
This is a box which gives you a warning.
\end{boxwarning}
\end{verbatim}

\begin{boxwarning}{Warning}
This is a box which gives you a warning.
\end{boxwarning}

\vspace{2ex}

\textbf{Errors}
\begin{verbatim}
\begin{boxerror}{Error}
This is a box which informs you about an error.
\end{boxerror}
\end{verbatim}

\begin{boxerror}{Error}
This is a box which informs you about an error.
\end{boxerror}

\vspace{2ex}

\textbf{Good practices}
\begin{verbatim}
\begin{boxgoodpractice}{Good practice}
This is a box which informs you about a good practice.
\end{boxgoodpractice}
\end{verbatim}

\begin{boxgoodpractice}{Good practice}
This is a box which informs you about a good practice.
\end{boxgoodpractice}

\vspace{2ex}

\textbf{Hints}
\begin{verbatim}
\begin{boxhint}{Hint}
This is a box which gives you a hint
\end{boxhint}
\end{verbatim}

\begin{boxhint}{Hint}
This is a box which gives you a hint
\end{boxhint}

\newpage

\textbf{Tips}
\begin{verbatim}
\begin{boxtip}{Tip}
This is a box which gives you a tip
\end{boxtip}
\end{verbatim}

\begin{boxtip}{Tip}
This is a box which gives you a tip
\end{boxtip}

% --------------------------------------------------------------------------------------------------------------

\chapter{Common styles}

Every component repository contains a LaTeX file \rlog{History.tex}.

A table containing the package history, can be written in the following way:

\begin{verbatim}
\begin{packagehistory}

\historyversiondate{0.1.0}{07/2022}
\historychange{Initial version}

\historyversiondate{0.2.0}{08/2021}
\historychange{- new feature\newline
- another change}

\end{packagehistory}
\end{verbatim}

\begin{packagehistory}

\historyversiondate{0.1.0}{07/2022}
\historychange{Initial version}

\historyversiondate{0.2.0}{08/2021}
\historychange{- new feature\newline
- another change}

\end{packagehistory}

% --------------------------------------------------------------------------------------------------------------

\chapter{Pandoc}

In the context of \rfw\ the converter tool Pandoc is used to convert the interface definitions (that are the content of the docstrings of the corresponding
Python modules) to LaTeX format. For this purpose Pandoc introduced some LaTeX commands that need to be defined. A user writing documentation has no direct
contact to this and can ignore the content of \rlog{pandoc.sty}.

% --------------------------------------------------------------------------------------------------------------

\chapter{\rfw\ styles}

Syntax highlighting is available for \rfw\ code and for Python code. Also for console listings and file system informations (like file names)
an own layout is available.

The common layout for \rfw\ code and Python code is the same. Differences only belong to the keyords that are language specific.

The layouts are available in two different characteristics: complete text block and inline.

The main difference between code listings and console listings is the background color of the text boxes containing the listing:

\begin{itemize}
   \item Code listings are indicated by a background color of light orange: \rcode{code}
   \item Console listings are indicated by a background color of light blue: \rlog{console}
\end{itemize}


\section{Abbreviations}

\textbf{Framework names}

To ease a unique typing of the frameworks the following LaTeX commands are available: \texttt{rfw} and \texttt{rfwcode}:

\begin{verbatim}
The \rfw\ is derived out of the \rfwcore.
\end{verbatim}

The \rfw\ is derived out of the \rfwcore.

\vspace{2ex}

\textbf{Tabulators}

The usage of tabulators should be avoided but it is possible to use the \texttt{tab} command to realize indentations (3 blanks):

\begin{verbatim}
\texttt{line 1}\\
\tab \texttt{line 2}\\
\tab \texttt{line 3}\\
\tab \texttt{line 4}\\
\end{verbatim}

\texttt{line 1}\\
\tab \texttt{line 2}\\
\tab \texttt{line 3}\\
\tab \texttt{line 4}\\

\vspace{2ex}

\textbf{Test results}

The following commands can be used to type test results; it's not necessary to take care about the corresponding colors manually:

\begin{verbatim}
The result of the first test is \passed, the result of the second test is \failed.
We also have one test with result \unknown\ and the last test is \aborted.
\end{verbatim}

The result of the first test is \passed, the result of the second test is \failed.
We also have one test with result \unknown\ and the last test is \aborted.

\newpage

\section{Code listings}

\textbf{\rfw\ code block}
\begin{verbatim}
\begin{robotcode}
*** Test Cases ***
Hello World
   FOR    ${index}    IN RANGE    1    11
      Log  Hello world ${index}
   END
\end{robotcode}
\end{verbatim}

\begin{robotcode}
*** Test Cases ***
Hello World
   FOR    ${index}    IN RANGE    1    11
      Log  Hello world ${index}
   END
\end{robotcode}

\vspace{2ex}

\textbf{\rfw\ code block (extended)}

It is possible to give the listing a caption. It is also possible to highlight certain lines within the listing. The highlighting can be realized by a list
of numbers of all lines, that shall be highlighted (\texttt{hlcode}):

\begin{verbatim}
\begin{robotcode}[caption=Robot code example, 
                  linebackgroundcolor=\hlcode{1,4}]
*** Test Cases ***
Hello World
   FOR    ${index}    IN RANGE    1    11
      Log  Hello world ${index}
   END
\end{robotcode}
\end{verbatim}

\vspace{2ex}

\begin{robotcode}[caption=Robot code example,
                  linebackgroundcolor=\hlcode{1,4}]
*** Test Cases ***
Hello World
   FOR    ${index}    IN RANGE    1    11
      Log  Hello world ${index}
   END
\end{robotcode}

\newpage

\textbf{\rfw\ inline code}
\begin{verbatim}
The variable is set in this way: \rcode{$\{prev\}\ \ \ \ Set Variable\ \ \ \ $\{0\}}
\end{verbatim}

The variable is set in this way: \rcode{$\{prev\}\ \ \ \ Set Variable\ \ \ \ $\{0\}}

Consider that inside \texttt{rcode} the brackets \texttt{\{} and \texttt{\}} and also the blanks have to be masked!

% --------------------------------------------------------------------------------------------------------------

\vspace{2ex}

\textbf{Python code block}
\begin{verbatim}
\begin{pythoncode}
def print_pattern():
    values = ("A", "B", "C")
    for value in values:
        print(f"value : {value}")
\end{pythoncode}
\end{verbatim}

\begin{pythoncode}
def print_pattern():
    values = ("A", "B", "C")
    for value in values:
        print(f"value : {value}")
\end{pythoncode}

\vspace{2ex}

\textbf{Python code block (extended)}

It is possible to give the listing a caption. It is also possible to highlight certain lines within the listing. The highlighting can be realized by a list
of numbers of all lines, that shall be highlighted (\texttt{hlcode}):

\vspace{2ex}

\begin{verbatim}
\begin{pythoncode}[caption=Python code example, 
                   linebackgroundcolor=\hlcode{1,3}]
def print_pattern():
    values = ("A", "B", "C")
    for value in values:
        print(f"value : {value}")
\end{pythoncode}
\end{verbatim}

\begin{pythoncode}[caption=Python code example, 
                   linebackgroundcolor=\hlcode{1,3}]
def print_pattern():
    values = ("A", "B", "C")
    for value in values:
        print(f"value : {value}")
\end{pythoncode}

\vspace{2ex}

\textbf{Python inline code}
\begin{verbatim}
The variable is set in this way: \pcode{values = ("A", "B", "C")}
\end{verbatim}

The variable is set in this way: \pcode{values = ("A", "B", "C")}

\newpage

\section{Console listings}

Console listings are also available for both \rfw\ and Python.

To keep this layout stuff simple, the console listings layout is also used for all informations related to the file system (e.g. paths and file names).

% --------------------------------------------------------------------------------------------------------------

\vspace{2ex}

\textbf{\rfw\ console listing}

\begin{verbatim}
\begin{robotlog}
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{robotlog}
\end{verbatim}

\vspace{2ex}

\begin{robotlog}
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{robotlog}

\vspace{2ex}

\textbf{\rfw\ console listing (extended)}

It is possible to give the listing a caption. It is also possible to highlight certain lines within the listing. The highlighting can be realized by a list
of numbers of all lines, that shall be highlighted (\texttt{hllog}):

\vspace{2ex}

\begin{verbatim}
\begin{robotlog}[caption=Robot log example, 
                 linebackgroundcolor=\hllog{7,11}]
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{robotlog}
\end{verbatim}

\newpage

\begin{robotlog}[caption=Robot log example, 
                 linebackgroundcolor=\hllog{7,11}]
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{robotlog}

\vspace{2ex}

\textbf{\rfw\ inline console output}
\begin{verbatim}
The test results are shown like this: \rlog{1 test, 1 passed, 0 failed, 0 unknown}
\end{verbatim}

The test results are shown like this: \rlog{1 test, 1 passed, 0 failed, 0 unknown}

\vspace{2ex}

\begin{verbatim}
The results of the test execution can be found in the following files:
\begin{robotlog}
C:\RobotTest\testcases\output.xml
C:\RobotTest\testcases\log.html
C:\RobotTest\testcases\report.html
\end{robotlog}
\end{verbatim}

The results of the test execution can be found in the following files:
\begin{robotlog}
C:\RobotTest\testcases\output.xml
C:\RobotTest\testcases\log.html
C:\RobotTest\testcases\report.html
\end{robotlog}

\vspace{2ex}

\begin{verbatim}
The file \rlog{log.html} contains the log file in html format.
\end{verbatim}

The file \rlog{log.html} contains the log file in html format.

% --------------------------------------------------------------------------------------------------------------

\newpage

\textbf{Python console listing}

\begin{verbatim}
\begin{pythonlog}
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{pythonlog}
\end{verbatim}

\vspace{2ex}

\begin{pythonlog}
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{pythonlog}

\vspace{2ex}

\textbf{Python console listing (extended)}

It is possible to give the listing a caption. It is also possible to highlight certain lines within the listing. The highlighting can be realized by a list
of numbers of all lines, that shall be highlighted (\texttt{hllog}):

\vspace{2ex}

\begin{verbatim}
\begin{pythonlog}[caption=Python log example, 
                 linebackgroundcolor=\hllog{7,11}]
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{pythonlog}
\end{verbatim}

\newpage

\begin{pythonlog}[caption=Python log example, 
                 linebackgroundcolor=\hllog{7,11}]
==============================================================================
HelloWorld
==============================================================================
Hello World                                                           | PASS |
------------------------------------------------------------------------------
HelloWorld                                                            | PASS |
1 test, 1 passed, 0 failed, 0 unknown
==============================================================================
Output:  C:\RobotTest\testcases\output.xml
Log:     C:\RobotTest\testcases\log.html
Report:  C:\RobotTest\testcases\report.html
\end{pythonlog}

\vspace{2ex}

\textbf{Python inline console output}
\begin{verbatim}
The test results are shown like this: \plog{1 test, 1 passed, 0 failed, 0 unknown}
\end{verbatim}

The test results are shown like this: \plog{1 test, 1 passed, 0 failed, 0 unknown}

\vspace{2ex}

\begin{verbatim}
The results of the test execution can be found in the following files:
\begin{pythonlog}
C:\RobotTest\testcases\output.xml
C:\RobotTest\testcases\log.html
C:\RobotTest\testcases\report.html
\end{pythonlog}
\end{verbatim}

The results of the test execution can be found in the following files:
\begin{pythonlog}
C:\RobotTest\testcases\output.xml
C:\RobotTest\testcases\log.html
C:\RobotTest\testcases\report.html
\end{pythonlog}

\vspace{2ex}

\begin{verbatim}
The file \plog{log.html} contains the log file in html format.
\end{verbatim}

The file \plog{log.html} contains the log file in html format.

% --------------------------------------------------------------------------------------------------------------

\newpage

\chapter{Documentation style guide}

This chapter contains some common guidelines about how to write a good documentation.

\section{Think didactically}

We can assume: During the hurry of daily work no one is in the mood to read documentations.
The only reason for any audience to read a documentation is: They have a problem! They have to solve the problem urgently.
To solve the problem, they need information. And their hope is to find the required information within the documentation.
If they find, they will be happy. If not, they will not trust the documentation any more and most probably they never will take a lock at the documentation again.

Writing a good documentation means: Anticipate what might be the problems of the audience. And then think about in which way informations have to be given,
to solve these problems. Think about how to structure the documentation to make it as easy as possible for the audience to find inside the documentation exactly the position
at which the needed information is given.

Do not jump too fast into technical details. Spend some preliminaries to tell about the scope of the following. In this context it is also important to define new technical terms
before they are used in following parts of the documentation.

Think in usecases. A listing of functions is helpful also - but should be placed at the end of the document in the appendix (like already realized in the interface
description part).
The common part of a documentation should focus on the hardships of the audience. Already by using good headlines you help the audience to find required informations faster.
For example it is a usecase to import parameters. In this case a headline like "How to import parameters" is much easier to capture than the shorter "Import parameters".

\section{Check dependencies to \rfw}

In case of a component is designed to be stand alone, you should not use the term "\rfw" any where in the documentation. 
Use the term "\rfwcore" instead. Additionally you should avoid to use the abbreviation "AIO" anywhere in the component code.

In case of a component is used as part of the \rfw\ and in case of this circumstance does change anything, then the documentation
of these things should be handled as add-on and should be placed in a separate follow up chapter of the documentation.
In this case both possible worlds (with and without \rfw) are clearly separated from each other. This will make it easier for the audience, to understand
how to work with the component.

\newpage

\section{Avoid filler words}

Try to avoid filler words like "\textbf{tool}" or "\textbf{will}" or "\textbf{helps}" or "\textbf{supports}".

Not: "\textit{PackageX} tool helps to import ..."\\
Better: "\textit{PackageX} imports ..."

Not: "\textit{PackageX} tool will import ..."\\
Better: "\textit{PackageX} imports ..."

With \textit{PackageX} is e.g. the package name of one of the components of the \rfw\ (e.g.
\textbf{RobotFramework\_TestsuitesManagement})

\section{Typing}

Please consider also, that too much typing mistakes within a document are really annoying for the audience and disturb the concentration on the content.

\section{Release}

Before you think about to release a new or maintained documentation, you should read the entire documentation once again.\\
And after this once again.\\
And after this once again.\\
And after this once again.

This will definitely decrease the number of errors in the documentation dramatically!

% --------------------------------------------------------------------------------------------------------------

\end{document}
